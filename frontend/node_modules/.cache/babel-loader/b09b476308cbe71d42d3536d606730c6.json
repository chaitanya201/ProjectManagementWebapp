{"ast":null,"code":"var _jsxFileName = \"D:\\\\Node  JS Projects\\\\Project Management WebApp\\\\frontend\\\\src\\\\components\\\\AssignProjects.js\",\n    _s = $RefreshSig$();\n\nimport axios from \"axios\";\nimport React, { useState, useEffect } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport ShowAllEmployee from \"./ShowAllEmployee\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function AssignProjects() {\n  _s();\n\n  // creating state variables\n  const [title, setTitle] = useState(\"\");\n  const [desc, setDesc] = useState(\"\");\n  const [projectHead, setProjectHead] = useState(\"\"); // creating onchange events\n\n  const onTitleChange = event => {\n    setTitle(event.target.value);\n  };\n\n  const onDescChange = event => {\n    setDesc(event.target.value);\n  };\n\n  const onProjectHeadChange = event => {\n    setProjectHead(event.target.value);\n  };\n\n  const [allUsers, setAllUsers] = useState([]);\n  const [selectedUsers, setSelectedUsers] = useState([]); // using useEffect react hook\n  // this hook runs before even react component renders\n\n  useEffect(() => {\n    axios.get(\"http://localhost:5000/user/getUsers\").then(result => {\n      console.log(\"this method is called\");\n      setAllUsers(result.data.users);\n    });\n  }, []); // using this function i am collecting all the selected users from the child component(ShowAllEmployee)\n\n  const getSelectedUsers = selectedUsersFromChildComponent => {\n    setSelectedUsers(selectedUsersFromChildComponent);\n  }; // return selected users\n\n\n  const returnSelectedUsers = () => {\n    return selectedUsers;\n  }; // here this finalList array is used to filter all the undefined holes in the\n\n\n  const [finalList, setFinalList] = useState([]); // on form submit\n\n  const onFormSubmit = event => {\n    event.preventDefault();\n    setFinalList(() => {\n      let copy = [...selectedUsers];\n\n      for (let index = 0; index < copy.length; index++) {\n        if (copy[index] === undefined) {\n          continue;\n        } else {\n          let pre = [];\n          finalList ? pre = [...finalList] : pre = [];\n          return pre ? [...pre, copy[index]] : [copy[index]];\n        }\n      }\n    });\n    console.log(\"final list of all selected users \", finalList);\n    console.log(\"list of all selected  \", selectedUsers);\n    const project = {\n      title,\n      desc,\n      projectHead\n    };\n    console.log(\"project is \", project);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(Link, {\n      to: \"/user-home\",\n      children: \"Home\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n      children: \"Create Project\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      method: \"post\",\n      onSubmit: onFormSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"title\",\n        children: \"Project Title: \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        name: \"title\",\n        value: title,\n        onChange: onTitleChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"desc\",\n        children: \"Project Description: \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        name: \"desc\",\n        value: desc,\n        onChange: onDescChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"desc\",\n        children: \"Project Head: \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        name: \"projectHead\",\n        value: projectHead,\n        onChange: onProjectHeadChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"submit\",\n        value: \"add project\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n      htmlFor: \"all\",\n      children: \"All Employees\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 7\n    }, this), allUsers ? allUsers.map(function (value, index) {\n      return /*#__PURE__*/_jsxDEV(ShowAllEmployee, {\n        user: value,\n        collectUsers: getSelectedUsers,\n        useCollectedUsers: returnSelectedUsers\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 13\n      }, this);\n    }) : /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"No data found\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 77,\n    columnNumber: 5\n  }, this);\n}\n\n_s(AssignProjects, \"PmtAx2KM5Bz0CoZqEIoofGodQvY=\");\n\n_c = AssignProjects;\n\nvar _c;\n\n$RefreshReg$(_c, \"AssignProjects\");","map":{"version":3,"sources":["D:/Node  JS Projects/Project Management WebApp/frontend/src/components/AssignProjects.js"],"names":["axios","React","useState","useEffect","Link","ShowAllEmployee","AssignProjects","title","setTitle","desc","setDesc","projectHead","setProjectHead","onTitleChange","event","target","value","onDescChange","onProjectHeadChange","allUsers","setAllUsers","selectedUsers","setSelectedUsers","get","then","result","console","log","data","users","getSelectedUsers","selectedUsersFromChildComponent","returnSelectedUsers","finalList","setFinalList","onFormSubmit","preventDefault","copy","index","length","undefined","pre","project","map"],"mappings":";;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,SAASC,IAAT,QAAqB,kBAArB;AACA,OAAOC,eAAP,MAA4B,mBAA5B;;AACA,eAAe,SAASC,cAAT,GAA0B;AAAA;;AACvC;AACA,QAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBN,QAAQ,CAAC,EAAD,CAAlC;AACA,QAAM,CAACO,IAAD,EAAOC,OAAP,IAAkBR,QAAQ,CAAC,EAAD,CAAhC;AACA,QAAM,CAACS,WAAD,EAAcC,cAAd,IAAgCV,QAAQ,CAAC,EAAD,CAA9C,CAJuC,CAMvC;;AAEA,QAAMW,aAAa,GAAIC,KAAD,IAAW;AAC/BN,IAAAA,QAAQ,CAACM,KAAK,CAACC,MAAN,CAAaC,KAAd,CAAR;AACD,GAFD;;AAIA,QAAMC,YAAY,GAAIH,KAAD,IAAW;AAC9BJ,IAAAA,OAAO,CAACI,KAAK,CAACC,MAAN,CAAaC,KAAd,CAAP;AACD,GAFD;;AAGA,QAAME,mBAAmB,GAAIJ,KAAD,IAAW;AACrCF,IAAAA,cAAc,CAACE,KAAK,CAACC,MAAN,CAAaC,KAAd,CAAd;AACD,GAFD;;AAGA,QAAM,CAACG,QAAD,EAAWC,WAAX,IAA0BlB,QAAQ,CAAC,EAAD,CAAxC;AACA,QAAM,CAACmB,aAAD,EAAgBC,gBAAhB,IAAoCpB,QAAQ,CAAC,EAAD,CAAlD,CAnBuC,CAqBvC;AACA;;AACAC,EAAAA,SAAS,CAAC,MAAM;AACdH,IAAAA,KAAK,CAACuB,GAAN,CAAU,qCAAV,EAAiDC,IAAjD,CAAuDC,MAAD,IAAY;AAChEC,MAAAA,OAAO,CAACC,GAAR,CAAY,uBAAZ;AACAP,MAAAA,WAAW,CAACK,MAAM,CAACG,IAAP,CAAYC,KAAb,CAAX;AACD,KAHD;AAID,GALQ,EAKN,EALM,CAAT,CAvBuC,CA8BvC;;AACA,QAAMC,gBAAgB,GAAIC,+BAAD,IAAqC;AAC5DT,IAAAA,gBAAgB,CAACS,+BAAD,CAAhB;AACD,GAFD,CA/BuC,CAmCvC;;;AACA,QAAMC,mBAAmB,GAAG,MAAM;AAChC,WAAOX,aAAP;AACD,GAFD,CApCuC,CAwCvC;;;AACA,QAAM,CAACY,SAAD,EAAYC,YAAZ,IAA4BhC,QAAQ,CAAC,EAAD,CAA1C,CAzCuC,CA2CvC;;AACA,QAAMiC,YAAY,GAAIrB,KAAD,IAAW;AAC9BA,IAAAA,KAAK,CAACsB,cAAN;AACAF,IAAAA,YAAY,CAAC,MAAM;AACjB,UAAIG,IAAI,GAAG,CAAC,GAAGhB,aAAJ,CAAX;;AAEA,WAAK,IAAIiB,KAAK,GAAG,CAAjB,EAAoBA,KAAK,GAAGD,IAAI,CAACE,MAAjC,EAAyCD,KAAK,EAA9C,EAAkD;AACtD,YAAGD,IAAI,CAACC,KAAD,CAAJ,KAAgBE,SAAnB,EAA8B;AAC7B;AACA,SAFD,MAGK;AACJ,cAAIC,GAAG,GAAI,EAAX;AACAR,UAAAA,SAAS,GAAGQ,GAAG,GAAG,CAAC,GAAGR,SAAJ,CAAT,GAA0BQ,GAAG,GAAG,EAAzC;AACA,iBAAOA,GAAG,GAAG,CAAC,GAAGA,GAAJ,EAASJ,IAAI,CAACC,KAAD,CAAb,CAAH,GAA2B,CAACD,IAAI,CAACC,KAAD,CAAL,CAArC;AAEA;AACC;AACC,KAdW,CAAZ;AAeAZ,IAAAA,OAAO,CAACC,GAAR,CAAY,mCAAZ,EAAiDM,SAAjD;AACAP,IAAAA,OAAO,CAACC,GAAR,CAAY,wBAAZ,EAAsCN,aAAtC;AACA,UAAMqB,OAAO,GAAG;AACdnC,MAAAA,KADc;AAEdE,MAAAA,IAFc;AAGdE,MAAAA;AAHc,KAAhB;AAKAe,IAAAA,OAAO,CAACC,GAAR,CAAY,aAAZ,EAA2Be,OAA3B;AACD,GAzBD;;AA2BA,sBACE;AAAA,4BACE,QAAC,IAAD;AAAM,MAAA,EAAE,EAAC,YAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADF,eAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAFF,eAGE;AAAA;AAAA;AAAA;AAAA,YAHF,eAIE;AAAM,MAAA,MAAM,EAAC,MAAb;AAAoB,MAAA,QAAQ,EAAEP,YAA9B;AAAA,8BACE;AAAO,QAAA,OAAO,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADF,eAEE;AACE,QAAA,IAAI,EAAC,MADP;AAEE,QAAA,IAAI,EAAC,OAFP;AAGE,QAAA,KAAK,EAAE5B,KAHT;AAIE,QAAA,QAAQ,EAAEM;AAJZ;AAAA;AAAA;AAAA;AAAA,cAFF,eAQE;AAAA;AAAA;AAAA;AAAA,cARF,eASE;AAAO,QAAA,OAAO,EAAC,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cATF,eAUE;AAAO,QAAA,IAAI,EAAC,MAAZ;AAAmB,QAAA,IAAI,EAAC,MAAxB;AAA+B,QAAA,KAAK,EAAEJ,IAAtC;AAA4C,QAAA,QAAQ,EAAEQ;AAAtD;AAAA;AAAA;AAAA;AAAA,cAVF,eAWE;AAAA;AAAA;AAAA;AAAA,cAXF,eAYE;AAAO,QAAA,OAAO,EAAC,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAZF,eAaE;AACE,QAAA,IAAI,EAAC,MADP;AAEE,QAAA,IAAI,EAAC,aAFP;AAGE,QAAA,KAAK,EAAEN,WAHT;AAIE,QAAA,QAAQ,EAAEO;AAJZ;AAAA;AAAA;AAAA;AAAA,cAbF,eAmBE;AAAO,QAAA,IAAI,EAAC,QAAZ;AAAqB,QAAA,KAAK,EAAC;AAA3B;AAAA;AAAA;AAAA;AAAA,cAnBF;AAAA;AAAA;AAAA;AAAA;AAAA,YAJF,eAyBE;AAAA;AAAA;AAAA;AAAA,YAzBF,eA0BE;AAAA;AAAA;AAAA;AAAA,YA1BF,eA2BE;AAAA;AAAA;AAAA;AAAA,YA3BF,eA6BE;AAAO,MAAA,OAAO,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YA7BF,EA8BGC,QAAQ,GACPA,QAAQ,CAACwB,GAAT,CAAa,UAAU3B,KAAV,EAAiBsB,KAAjB,EAAwB;AACnC,0BACE,QAAC,eAAD;AACE,QAAA,IAAI,EAAEtB,KADR;AAEE,QAAA,YAAY,EAAEc,gBAFhB;AAGE,QAAA,iBAAiB,EAAEE;AAHrB;AAAA;AAAA;AAAA;AAAA,cADF;AAOD,KARD,CADO,gBAWP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAzCJ;AAAA;AAAA;AAAA;AAAA;AAAA,UADF;AA8CD;;GArHuB1B,c;;KAAAA,c","sourcesContent":["import axios from \"axios\";\r\nimport React, { useState, useEffect } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport ShowAllEmployee from \"./ShowAllEmployee\";\r\nexport default function AssignProjects() {\r\n  // creating state variables\r\n  const [title, setTitle] = useState(\"\");\r\n  const [desc, setDesc] = useState(\"\");\r\n  const [projectHead, setProjectHead] = useState(\"\");\r\n\r\n  // creating onchange events\r\n\r\n  const onTitleChange = (event) => {\r\n    setTitle(event.target.value);\r\n  };\r\n\r\n  const onDescChange = (event) => {\r\n    setDesc(event.target.value);\r\n  };\r\n  const onProjectHeadChange = (event) => {\r\n    setProjectHead(event.target.value);\r\n  };\r\n  const [allUsers, setAllUsers] = useState([]);\r\n  const [selectedUsers, setSelectedUsers] = useState([]);\r\n\r\n  // using useEffect react hook\r\n  // this hook runs before even react component renders\r\n  useEffect(() => {\r\n    axios.get(\"http://localhost:5000/user/getUsers\").then((result) => {\r\n      console.log(\"this method is called\");\r\n      setAllUsers(result.data.users);\r\n    });\r\n  }, []);\r\n\r\n  // using this function i am collecting all the selected users from the child component(ShowAllEmployee)\r\n  const getSelectedUsers = (selectedUsersFromChildComponent) => {\r\n    setSelectedUsers(selectedUsersFromChildComponent);\r\n  };\r\n\r\n  // return selected users\r\n  const returnSelectedUsers = () => {\r\n    return selectedUsers;\r\n  };\r\n\r\n  // here this finalList array is used to filter all the undefined holes in the\r\n  const [finalList, setFinalList] = useState([]);\r\n\r\n  // on form submit\r\n  const onFormSubmit = (event) => {\r\n    event.preventDefault();\r\n    setFinalList(() => {\r\n      let copy = [...selectedUsers];\r\n\r\n      for (let index = 0; index < copy.length; index++) {\r\n\t\tif(copy[index] === undefined) {\r\n\t\t\tcontinue\r\n\t\t}\r\n\t\telse {\r\n\t\t\tlet pre =  []\r\n\t\t\tfinalList ? pre = [...finalList] : pre = [] \r\n\t\t\treturn pre ? [...pre, copy[index]] : [copy[index]]\r\n\t\t\t\r\n\t\t}\r\n\t  }\r\n    });\r\n    console.log(\"final list of all selected users \", finalList);\r\n    console.log(\"list of all selected  \", selectedUsers);\r\n    const project = {\r\n      title,\r\n      desc,\r\n      projectHead,\r\n    };\r\n    console.log(\"project is \", project);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <Link to=\"/user-home\">Home</Link>\r\n      <h3>Create Project</h3>\r\n      <br />\r\n      <form method=\"post\" onSubmit={onFormSubmit}>\r\n        <label htmlFor=\"title\">Project Title: </label>\r\n        <input\r\n          type=\"text\"\r\n          name=\"title\"\r\n          value={title}\r\n          onChange={onTitleChange}\r\n        />\r\n        <br />\r\n        <label htmlFor=\"desc\">Project Description: </label>\r\n        <input type=\"text\" name=\"desc\" value={desc} onChange={onDescChange} />\r\n        <br />\r\n        <label htmlFor=\"desc\">Project Head: </label>\r\n        <input\r\n          type=\"text\"\r\n          name=\"projectHead\"\r\n          value={projectHead}\r\n          onChange={onProjectHeadChange}\r\n        />\r\n        <input type=\"submit\" value=\"add project\" />\r\n      </form>\r\n      <br />\r\n      <br />\r\n      <br />\r\n      {/* here in map function \"return\" is necessary. without return it will not work */}\r\n      <label htmlFor=\"all\">All Employees</label>\r\n      {allUsers ? (\r\n        allUsers.map(function (value, index) {\r\n          return (\r\n            <ShowAllEmployee\r\n              user={value}\r\n              collectUsers={getSelectedUsers}\r\n              useCollectedUsers={returnSelectedUsers}\r\n            />\r\n          );\r\n        })\r\n      ) : (\r\n        <div>No data found</div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}